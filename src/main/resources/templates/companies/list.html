<!DOCTYPE html>
<html lang="en" dir="ltr" xmlns:th="">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no">
    <meta name="description" content="Mashinite е водещият български портал за машини, предлагащ широк асортимент от оборудване и резервни части за различни индустрии.
    Машини и оборудване. Безплатни обяви за строителни, транспортни машини и други, кранове, мотокари, платформи. Покупко-продажба на автосервизно оборудване, медицинско и лабораторно оборудване.
    Фирми за машини. Бизнес каталог. Бизнес каталог на фирми за машини. Публикувай фирма за машини, рекламирай фирмата си. Направи си фирма напълно безплатно в Mashinite">
    <meta name="keywords" content="машини, mashini, mashinite, mashina, машина, обяви, продан, части, машинни части, оборудване, индустриално оборудване, строителна техника, селскостопански машини, резервни части, Mashinite, България,
    фирма, обави, публикувай фирма за машини, рекламирай машини, рекламирай фирма, бизнес каталог, бизнес каталог за фирми">
    <meta name="author" content="Екипът на Mashinite">

    <!-- Open Graph meta tags -->
    <meta property="og:title" content="Mashinite - Водещ портал за машини в България. Фирми за машини. Бизнес каталог. Бизнес каталог на фирми за машини.">
    <meta property="og:description" content="Mashinite предлага най-доброто място за търговия с машини, резервни части и производствени оборудвания.
    Фирми за машини. Бизнес каталог. Бизнес каталог на фирми за машини. Публикувай фирма за машини, рекламирай фирмата си. Направи си фирма напълно безплатно в Mashinite">

    <meta property="og:type" content="website">
    <title>Фирми</title>
    <th:block th:insert="~{fragments/links}"></th:block>
    <link rel="stylesheet" th:href="@{/css/toast.css}">
</head>

<body>
<!-- site -->
<div class="site">
    <!-- mobile site__header -->
    <th:block th:insert="~{fragments/header}"></th:block>
    <!-- site__body -->
    <div class="site__body">
        <div class="page-header">
            <div class="page-header__container container">
                <div class="page-header__title">
                    <br><br>
                    <h1>Фирми</h1>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="shop-layout shop-layout--sidebar--start">
                <div class="shop-layout__sidebar">
                    <div class="block block-sidebar block-sidebar--offcanvas--mobile">
                        <div class="block-sidebar__backdrop"></div>
                        <div class="block-sidebar__body">
                            <div class="block-sidebar__header">
                                <div class="block-sidebar__title">Filters</div>
                                <button class="block-sidebar__close" type="button">
                                    <svg width="20px" height="20px">
                                        <use xlink:href="images/sprite.svg#cross-20"></use>
                                    </svg>
                                </button>
                            </div>
                            <div class="block-sidebar__item">
                                <div class="widget-filters widget widget-filters--offcanvas--mobile" data-collapse
                                     data-collapse-opened-class="filter--opened">
                                    <h4 class="widget-filters__title widget__title">Филтри</h4>
                                    <form method="get" action="/companies">
                                        <div class="widget-filters__list">
                                            <!-- Cities Filter -->
                                            <div class="widget-filters__item">
                                                <div class="filter filter--opened" data-collapse-item>
                                                    <button type="button" class="filter__title" data-collapse-trigger>
                                                        Градове
                                                        <svg class="filter__arrow" width="12px" height="7px">
                                                            <use xlink:href="images/sprite.svg#arrow-rounded-down-12x7"></use>
                                                        </svg>
                                                    </button>
                                                    <div class="filter__body" data-collapse-content>
                                                        <div class="filter__container">
                                                            <select class="form-control form-control-sm" id="cityId"
                                                                    name="cityId">
                                                                <option value="">Всички градове</option>
                                                                <option th:each="city : ${cities}" th:value="${city.id}"
                                                                        th:text="${city.name}"></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Sort By Filter -->
                                            <div class="widget-filters__item">
                                                <div class="filter filter--opened" data-collapse-item>
                                                    <button type="button" class="filter__title" data-collapse-trigger>
                                                        Сортирай
                                                        <svg class="filter__arrow" width="12px" height="7px">
                                                            <use xlink:href="images/sprite.svg#arrow-rounded-down-12x7"></use>
                                                        </svg>
                                                    </button>
                                                    <div class="filter__body" data-collapse-content>
                                                        <div class="filter__container">
                                                            <select class="form-control form-control-sm" id="companySort"
                                                                    name="companySort">
                                                                <option value="def">По подразбиране
                                                                </option>
                                                                <option value="alphaDesc">По азбучен ред</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Items per Page Filter -->
                                            <div class="widget-filters__item">
                                                <div class="filter filter--opened" data-collapse-item>
                                                    <button type="button" class="filter__title" data-collapse-trigger>
                                                        Брой обяви на страница
                                                        <svg class="filter__arrow" width="12px" height="7px">
                                                            <use xlink:href="images/sprite.svg#arrow-rounded-down-12x7"></use>
                                                        </svg>
                                                    </button>
                                                    <div class="filter__body" data-collapse-content>
                                                        <div class="filter__container">
                                                            <select class="form-control form-control-sm"
                                                                    id="pageSizeSelect" name="size">
                                                                <option value="3">3</option>
                                                                <option value="5">5</option>
                                                                <option value="10">10</option>
                                                                <option value="15">15</option>
                                                                <option value="20">20</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Search Filter -->
                                            <div class="widget-filters__item">
                                                <div class="filter filter--opened" data-collapse-item>
                                                    <button type="button" class="filter__title" data-collapse-trigger>
                                                        Търсене
                                                        <svg class="filter__arrow" width="12px" height="7px">
                                                            <use xlink:href="images/sprite.svg#arrow-rounded-down-12x7"></use>
                                                        </svg>
                                                    </button>
                                                    <div class="filter__body" data-collapse-content>
                                                        <div class="filter__container">
                                                            <input type="text" class="form-control form-control-sm"
                                                                   id="search" name="search"
                                                                   placeholder="Ключова дума за търсене...">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="widget-filters__actions d-flex">
                                            <button type="submit" class="btn btn-primary">Филтрирай</button>
                                        </div>
                                        <div class="widget-filters__actions d-flex">
                                            <button type="button" class="btn btn-primary"
                                                    onclick="window.location.href='/companies'">
                                                Изчисти филтрите
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="shop-layout__content">
                    <div class="block">
                        <div class="products-view">
                            <div class="products-view__options">
                            </div>
                            <div class="products-view__list products-list" data-layout="list" data-with-features="false"
                                 data-mobile-grid-columns="2">
                                <div class="products-list__body">
                                    <!--                                    COMPANY ITEM-->
                                    <!--                                    COMPANY ITEM-->
                                    <!--                                    COMPANY ITEM-->
                                    <!--                                    COMPANY ITEM-->

                                    <div th:each="company : ${companies}" class="products-list__item">
                                        <div class="product-card product-card--hidden-actions">
                                            <button class="product-card__quickview" type="button"
                                                    data-toggle="modal"
                                                    th:data-target="'#quickviewModal_' + ${company.id}"
                                                    th:data-id="${company.id}">
                                                <svg width="16px" height="16px">
                                                    <use xlink:href="/images/sprite.svg#quickview-16"></use>
                                                </svg>
                                                <span class="fake-svg-icon"></span>
                                            </button>
                                            <div class="product-card__image product-image">
                                                <a class="product-image__body">
                                                    <img th:src="@{${company.mainPicture.path}}"
                                                         class="product-image__img" alt="">
                                                </a>
                                            </div>
                                            <div class="product-card__info">
                                                <div class="product-card__name">
                                                    <a th:href="@{/companies/{id}(id=${company.id})}"
                                                       th:text="${company.name}"></a>
                                                </div>
                                                <ul class="product-card__features-list">
                                                    <li th:text="'Телефонен номер : ' + ${company.phoneNumber}"></li>
                                                    <li th:text="'Собственик на фирмата : ' + ${company.owner.name} + ' ' + ${company.owner.surname}"></li>
                                                    <li th:text="'Град : ' + ${company.city.name}"></li>
                                                    <li th:text="'Адрес : ' + ${company.address}"></li>
                                                </ul>
                                            </div>
                                            <div class="product-card__actions">
                                                <div class="product-card__buttons">
                                                    <a href="#" th:href="@{/companies/{id}(id=${company.id})}"
                                                       class="btn btn-secondary product-card__addtocart product-card__addtocart--list">
                                                        Прочети повече
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal fade" th:id="'quickviewModal_' + ${company.id}" tabindex="-1" role="dialog"
                                             aria-labelledby="'quickviewModalLabel_' + ${company.id}"
                                             aria-hidden="true">
                                            <div class="modal-dialog modal-lg" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-body">
                                                        <!-- Quick View Content -->
                                                        <div class="quickview">
                                                            <button class="quickview__close" type="button" data-dismiss="modal">
                                                                <svg width="20px" height="20px">
                                                                    <use xlink:href="/images/sprite.svg#cross-20"></use>
                                                                </svg>
                                                            </button>
                                                            <div class="product product--layout--quickview" data-layout="quickview">
                                                                <div class="product__content">
                                                                    <div class="product__gallery">
                                                                        <div class="product-gallery">
                                                                            <div class="product-gallery__featured">
                                                                                <button class="product-gallery__zoom">
                                                                                    <svg width="24px" height="24px">
                                                                                        <use xlink:href="/images/sprite.svg#zoom-in-24"></use>
                                                                                    </svg>
                                                                                </button>
                                                                                <div class="owl-carousel" id="product-image">
                                                                                    <div class="product-image product-image--location--gallery">
                                                                                        <a th:href="@{${company.mainPicture.path}}" data-width="700" data-height="700"
                                                                                           class="product-image__body" target="_blank">
                                                                                            <img th:src="@{${company.mainPicture.path}}" class="product-image__img"
                                                                                                 alt="Main Image">
                                                                                        </a>
                                                                                    </div>
                                                                                    <div th:each="picture : ${company.pictures}">
                                                                                        <div class="product-image product-image--location--gallery">
                                                                                            <a th:href="@{${picture.path}}" data-width="700" data-height="700"
                                                                                               class="product-image__body" target="_blank">
                                                                                                <img th:src="@{${picture.path}}" class="product-image__img"
                                                                                                     alt="Additional Image">
                                                                                            </a>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <!-- Thumbnail Carousel -->
                                                                            <div class="product-gallery__carousel">
                                                                                <div class="owl-carousel" id="product-carousel">
                                                                                    <a th:href="@{${company.mainPicture.path}}"
                                                                                       class="product-image product-gallery__carousel-item">
                                                                                        <div class="product-image__body">
                                                                                            <img th:src="@{${company.mainPicture.path}}"
                                                                                                 class="product-image__img product-gallery__carousel-image"
                                                                                                 alt="Main Image">
                                                                                        </div>
                                                                                    </a>
                                                                                    <div th:each="picture : ${company.pictures}">
                                                                                        <a th:href="@{${picture.path}}"
                                                                                           class="product-image product-gallery__carousel-item">
                                                                                            <div class="product-image__body">
                                                                                                <img th:src="@{${picture.path}}"
                                                                                                     class="product-image__img product-gallery__carousel-image"
                                                                                                     alt="Additional Image">
                                                                                            </div>
                                                                                        </a>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="product__info">
                                                                        <h1 class="product__name" th:text="${company.name}"></h1>
                                                                        <div class="product__description" th:text="${company.description}"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div th:if="${companies.totalElements > 0}">
                                        <div class="pagination">
                                            <!-- Previous Page Link -->
                                            <div th:if="${companies.hasPrevious()}">
                                                <a th:href="@{/companies(page=${companies.number}, size=${companies.size})}"
                                                   class="pagination__link">Предишна</a>
                                            </div>

                                            <!-- Page Number Display -->
                                            <span>Страница <span th:text="${companies.number + 1}"></span> от <span th:text="${companies.totalPages}"></span></span>

                                            <!-- Next Page Link -->
                                            <div th:if="${companies.hasNext()}">
                                                <a th:href="@{/companies(page=${companies.number + 2}, size=${companies.size})}"
                                                   class="pagination__link">Следваща</a>
                                            </div>
                                        </div>
                                    </div>

                                    <br><br>
                                    <!-- No Companies Message -->
                                    <div th:if="${companies.totalElements == 0}">
                                        <p>Няма компании все още</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- site__body / end -->
<!-- site__footer -->

<th:block th:insert="~{fragments/footer}"></th:block>
<!-- Include the toast.js file -->
<script th:src="@{/js/toast.js}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const pageSizeSelect = document.getElementById('pageSizeSelect');

        // Function to reload page with new page size
        function updatePageSize(pageSize) {
            const currentPage = new URLSearchParams(window.location.search).get('page') || 1;
            window.location.href = `/companies?page=${currentPage}&size=${pageSize}`;
        }

        // Event listener for page size change
        pageSizeSelect.addEventListener('change', function() {
            const pageSize = pageSizeSelect.value;
            updatePageSize(pageSize);
        });

        // Set the initial value based on current page size
        const currentSize = new URLSearchParams(window.location.search).get('size') || 5;
        pageSizeSelect.value = currentSize;
    });
</script>
</body>
</html>